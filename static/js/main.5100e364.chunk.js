(this["webpackJsonpkasir-react"]=this["webpackJsonpkasir-react"]||[]).push([[0],{112:function(a,e,t){"use strict";t.r(e);var n=t(0),c=t.n(n),r=t(30),s=t.n(r),i=(t(85),t(86),t(19)),o=t(20),l=t(22),j=t(21),h=t(60),u=t(10),d=t(41),b=t(78),m=t(124),g=t(125),O=t(117),x=t(118),p=function(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},f=t(27),k=t(25),v=t(121),y=t(122),C=t(79),S=t(1),N=function(a){var e=a.showModal,t=a.handleClose,n=a.keranjangDetail,c=a.jumlah,r=a.keterangan,s=a.tambah,i=a.kurang,o=a.changeHandler,l=a.handleSubmit,j=a.totalHarga,h=a.hapusPesanan;return n?Object(S.jsxs)(v.a,{show:e,onHide:t,children:[Object(S.jsx)(v.a.Header,{closeButton:!0,children:Object(S.jsxs)(v.a.Title,{children:[n.product.nama,Object(S.jsxs)("strong",{children:["\xa0 Rp. ",p(n.product.harga)]})]})}),Object(S.jsx)(v.a.Body,{children:Object(S.jsxs)(y.a,{onSubmit:l,children:[Object(S.jsxs)(y.a.Group,{controlId:"exampleForm.ControlInput1",children:[Object(S.jsx)(y.a.Label,{children:"Total Harga"}),Object(S.jsx)("strong",{children:Object(S.jsxs)("p",{children:["Rp. ",p(j)]})})]}),Object(S.jsxs)(y.a.Group,{controlId:"exampleForm.ControlInput1",children:[Object(S.jsx)(y.a.Label,{children:"Jumlah"}),Object(S.jsx)("br",{}),Object(S.jsx)(C.a,{variant:"primary",size:"sm",className:"mr-2",onClick:function(){return i()},children:Object(S.jsx)(k.a,{icon:f.c})}),Object(S.jsx)("strong",{children:c}),Object(S.jsx)(C.a,{variant:"primary",size:"sm",className:"ml-2",onClick:function(){return s()},children:Object(S.jsx)(k.a,{icon:f.d})})]}),Object(S.jsxs)(y.a.Group,{controlId:"exampleForm.ControlTextarea1",children:[Object(S.jsx)(y.a.Label,{children:"Keterangan : "}),Object(S.jsx)(y.a.Control,{as:"textarea",rows:3,name:"keterangan",placeholder:"Contoh : Pedas, Nasi setengah",value:r,onChange:function(a){return o(a)}})]}),Object(S.jsx)(C.a,{variant:"primary",type:"sumbit",children:"Simpan"})]})}),Object(S.jsx)(v.a.Footer,{children:Object(S.jsxs)(C.a,{variant:"danger",onClick:function(){return h(n.id)},children:[Object(S.jsx)(k.a,{icon:f.f}),"Hapus Pesanan"]})})]}):Object(S.jsxs)(v.a,{show:e,onHide:t,children:[Object(S.jsx)(v.a.Header,{closeButton:!0,children:Object(S.jsx)(v.a.Title,{children:"Kosong"})}),Object(S.jsx)(v.a.Body,{children:"Kosong"}),Object(S.jsxs)(v.a.Footer,{children:[Object(S.jsx)(C.a,{variant:"secondary",onClick:t,children:"Close"}),Object(S.jsx)(C.a,{variant:"primary",onClick:t,children:"Save Changes"})]})]})},D=t(13),H=t.n(D),w="https://fake-server-api-kasir.herokuapp.com/",A=function(a){Object(l.a)(t,a);var e=Object(j.a)(t);function t(){var a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=e.call.apply(e,[this].concat(c))).submitTotalBayar=function(e){var t={total_bayar:e,menus:a.props.keranjangs};H.a.post(w+"pesanans",t).then((function(e){a.props.history.push("/Sukses")}))},a}return Object(o.a)(t,[{key:"render",value:function(){var a=this,e=this.props.keranjangs.reduce((function(a,e){return a+e.total_harga}),0);return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{className:"fixed-bottom d-none d-md-block",children:Object(S.jsx)(O.a,{children:Object(S.jsxs)(b.a,{md:{span:3,offset:9},className:"px-4",children:[Object(S.jsxs)("h4",{children:["Total Harga :"," ",Object(S.jsxs)("strong",{className:"float-right mr-2",children:["Rp. ",p(e)]})]}),Object(S.jsxs)(C.a,{variant:"primary",block:!0,className:"mb-2 mt-4 mr-2",size:"lg",onClick:function(){return a.submitTotalBayar(e)},children:[Object(S.jsx)(k.a,{icon:f.e})," ",Object(S.jsx)("strong",{children:"BAYAR"})]})]})})}),Object(S.jsx)("div",{className:"d-sm-block d-md-none",children:Object(S.jsx)(O.a,{children:Object(S.jsxs)(b.a,{md:{span:3,offset:9},className:"px-4",children:[Object(S.jsxs)("h4",{children:["Total Harga :"," ",Object(S.jsxs)("strong",{className:"float-right mr-2",children:["Rp. ",p(e)]})]}),Object(S.jsxs)(C.a,{variant:"primary",block:!0,className:"mb-2 mt-4 mr-2",size:"lg",onClick:function(){return a.submitTotalBayar(e)},children:[Object(S.jsx)(k.a,{icon:f.e})," ",Object(S.jsx)("strong",{children:"BAYAR"})]})]})})})]})}}]),t}(n.Component),K=t(40),I=t.n(K),M=function(a){Object(l.a)(t,a);var e=Object(j.a)(t);function t(a){var n;return Object(i.a)(this,t),(n=e.call(this,a)).handleShow=function(a){n.setState({showModal:!0,keranjangDetail:a,jumlah:a.jumlah,keteranagn:a.keteranagn,totalHarga:a.total_harga})},n.handleClose=function(){n.setState({showModal:!1})},n.tambah=function(){n.setState({jumlah:n.state.jumlah+1,totalHarga:n.state.keranjangDetail.product.harga*(n.state.jumlah+1)})},n.kurang=function(){1!==n.state.jumlah&&n.setState({jumlah:n.state.jumlah-1,totalHarga:n.state.keranjangDetail.product.harga*(n.state.jumlah-1)})},n.changeHandler=function(a){n.setState({keteranagn:a.target.value})},n.handleSubmit=function(a){a.preventDefault(),n.handleClose();var e={jumlah:n.state.jumlah,total_harga:n.state.totaHarga,product:n.state.keranjangDetail.product,keteranagn:n.state.keteranagn};H.a.put(w+"Keranjangs/"+n.state.keranjangDetail.id,e).then((function(a){I()({title:"Update Pesanan",text:"Sukses Update Pesanan"+e.product.nama,icon:"success",buttons:!1,timer:1500})})).catch((function(a){console.log(Error)}))},n.hapusPesanan=function(a){n.handleClose(),H.a.delete(w+"Keranjangs/"+a).then((function(a){I()({title:"Hapus Pesanan",text:"Sukses Update Pesanan"+n.state.keranjangDetail.product.nama,icon:"error",buttons:!1,timer:1500})})).catch((function(a){console.log(Error)}))},n.state={showModal:!1,keranjangDetail:!1,jumlah:0,keteranagn:"",totaHarga:0},n}return Object(o.a)(t,[{key:"render",value:function(){var a=this,e=this.props.keranjangs;return Object(S.jsxs)(b.a,{md:3,mt:"2",children:[Object(S.jsx)("h6",{children:Object(S.jsx)("strong",{children:"Hasil"})}),Object(S.jsx)("hr",{}),0!==e.length&&Object(S.jsx)(m.a,{className:"overflow-auto hasil",children:Object(S.jsxs)(g.a,{variant:"flush",children:[e.map((function(e){return Object(S.jsx)(g.a.Item,{onClick:function(){return a.handleShow(e)},children:Object(S.jsxs)(O.a,{children:[Object(S.jsx)(b.a,{children:Object(S.jsx)("h4",{children:Object(S.jsx)(x.a,{pill:!0,variant:"success",children:e.jumlah})})}),Object(S.jsxs)(b.a,{children:[Object(S.jsx)("h4",{children:e.product.nama}),Object(S.jsxs)("p",{children:["Rp. ",p(e.product.harga)]})]}),Object(S.jsxs)(b.a,{children:["Rp. ",p(e.total_harga)]})]})},e.id)})),Object(S.jsx)(N,Object(d.a)(Object(d.a)({handleClose:this.handleClose},this.state),{},{tambah:this.tambah,kurang:this.kurang,changeHandler:this.changeHandler,handleSubmit:this.handleSubmit,hapusPesanan:this.hapusPesanan}))]})}),Object(S.jsx)(A,Object(d.a)({keranjangs:e},this.props))]})}}]),t}(n.Component),P=function(a){var e=a.nama;return"Makanan"===e?Object(S.jsx)(k.a,{icon:f.g,className:"mr-2"}):"Minuman"===e?Object(S.jsx)(k.a,{icon:f.b,className:"mr-1"}):"Cemilan"===e?Object(S.jsx)(k.a,{icon:f.a,className:"mr-2"}):void 0},T=function(a){Object(l.a)(t,a);var e=Object(j.a)(t);function t(a){var n;return Object(i.a)(this,t),(n=e.call(this,a)).state={categories:[]},n}return Object(o.a)(t,[{key:"componentDidMount",value:function(){var a=this;H.a.get(w+"categories").then((function(e){console.log(e);var t=e.data;a.setState({categories:t})})).catch((function(a){console.log(Error)}))}},{key:"render",value:function(){var a=this.state.categories,e=this.props,t=e.changeCategory,n=e.categoriYangDipilih;return Object(S.jsxs)(b.a,{md:"3",mt:"2",children:[Object(S.jsx)("h4",{children:Object(S.jsx)("strong",{children:"Daftar Kategori"})}),Object(S.jsx)("hr",{}),Object(S.jsx)(g.a,{children:a&&a.map((function(a){return Object(S.jsx)(g.a.Item,{onClick:function(){return t(a.nama)},className:n===a.nama&&"category-active",children:Object(S.jsxs)("h5",{className:"list-categories",children:[Object(S.jsx)(P,{nama:a.nama}),a.nama]})},a.id)}))})]})}}]),t}(n.Component),B=function(a){var e=a.menu,t=a.masukKeranjang;return Object(S.jsx)("div",{className:"col-md-4 mb-5",children:Object(S.jsxs)(m.a,{className:"shadow",style:{width:"18rem"},onClick:function(){return t(e)},children:[Object(S.jsx)(m.a.Img,{variant:"top",src:"http://2.bp.blogspot.com/-dskRrIAukeQ/UOvC0ZgyZyI/AAAAAAAAAHg/FpxNX53OW7M/s1600/sate-ayam-bumbu-kacang.jpg",alt:""}),Object(S.jsx)("img",{src:"public/assets/alen/pangsit.jpg",alt:""}),Object(S.jsxs)(m.a.Body,{children:[Object(S.jsxs)(m.a.Title,{children:[e.nama," ",Object(S.jsxs)("strong",{children:[" (",e.kode]})," )"]}),Object(S.jsxs)(m.a.Text,{children:["Rp.",p(e.harga)]})]})]})})},E=t(123),F=t(126),R=t(120),L=function(){return Object(S.jsx)("div",{children:Object(S.jsx)(E.a,{variant:"dark",expand:"lg",children:Object(S.jsxs)("div",{className:"container",children:[Object(S.jsx)(E.a.Brand,{href:"#home",children:"Kasir App"}),Object(S.jsx)(E.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(S.jsx)(E.a.Collapse,{id:"basic-navbar-nav",children:Object(S.jsxs)(F.a,{className:"ml-auto",children:[Object(S.jsx)(F.a.Link,{className:"lega",href:"#home",children:"Home"}),Object(S.jsx)(F.a.Link,{className:"lega",href:"#link",children:"Link"}),Object(S.jsxs)(R.a,{className:"lega drop",title:"Dropdown",id:"basic-nav-dropdown",children:[Object(S.jsx)(R.a.Item,{href:"#action/3.1",children:"Action"}),Object(S.jsx)(R.a.Item,{href:"#action/3.2",children:"Another action"}),Object(S.jsx)(R.a.Item,{href:"#action/3.3",children:"Something"}),Object(S.jsx)(R.a.Divider,{}),Object(S.jsx)(R.a.Item,{href:"#action/3.4",children:"Separated link"})]})]})})]})})})},Y=function(a){Object(l.a)(t,a);var e=Object(j.a)(t);function t(a){var n;return Object(i.a)(this,t),(n=e.call(this,a)).changeCategory=function(a){n.setState({categoriYangDipilih:a,menus:[]}),H.a.get(w+"products?category.nama="+a).then((function(a){var e=a.data;n.setState({menus:e})})).catch((function(a){console.log(Error)}))},n.masukKeranjang=function(a){H.a.get(w+"keranjangs?product.id="+a.id).then((function(e){if(0===e.data.length){var t={jumlah:1,total_harga:a.harga,product:a};H.a.post(w+"Keranjangs",t).then((function(a){I()({title:"Sukses Masuk Keranjang",text:"Sukses Masuk Keranjang"+t.product.nama,icon:"success",buttons:!1,timer:1500})})).catch((function(a){console.log(Error)}))}else{var n={jumlah:e.data[0].jumlah+1,total_harga:e.data[0].total_harga+a.harga,product:a};H.a.put(w+"Keranjangs/"+e.data[0].id,n).then((function(a){I()({title:"Sukses Masuk Keranjang",text:"Sukses Masuk Keranjang"+n.product.nama,icon:"success",buttons:!1,timer:1500})})).catch((function(a){console.log(Error)}))}})).catch((function(a){console.log(Error)}))},n.state={menus:[],categoriYangDipilih:"Makanan",keranjangs:[]},n}return Object(o.a)(t,[{key:"componentDidMount",value:function(){var a=this;H.a.get(w+"products?category.nama="+this.state.categoriYangDipilih).then((function(e){var t=e.data;a.setState({menus:t})})).catch((function(a){console.log(Error)})),H.a.get(w+"keranjangs").then((function(e){var t=e.data;a.setState({keranjangs:t})})).catch((function(a){console.log(Error)}))}},{key:"componentDidUpdate",value:function(a){var e=this;this.state.keranjangs!==a.keranjangs&&H.a.get(w+"keranjangs").then((function(a){var t=a.data;e.setState({keranjangs:t})})).catch((function(a){console.log(Error)}))}},{key:"render",value:function(){var a=this,e=this.state,t=e.menus,n=e.categoriYangDipilih,c=e.keranjangs;return Object(S.jsx)("div",{children:Object(S.jsx)("div",{className:"mt-5",children:Object(S.jsx)("div",{className:"container-fluid",children:Object(S.jsxs)(O.a,{children:[Object(S.jsx)(T,{changeCategory:this.changeCategory,categoriYangDipilih:n}),Object(S.jsxs)(b.a,{children:[Object(S.jsx)("h4",{children:"Daftar Produk"}),Object(S.jsx)("hr",{}),Object(S.jsx)(O.a,{className:"overflow-auto menu",children:t&&t.map((function(e){return Object(S.jsx)(B,{menu:e,masukKeranjang:a.masukKeranjang},e.id)}))})]}),Object(S.jsx)(M,Object(d.a)({keranjangs:c},this.props))]})})})})}}]),t}(n.Component),_=t(119),U=function(a){Object(l.a)(t,a);var e=Object(j.a)(t);function t(){return Object(i.a)(this,t),e.apply(this,arguments)}return Object(o.a)(t,[{key:"componentDidMount",value:function(){H.a.get(w+"keranjangs").then((function(a){a.data.map((function(a){return H.a.delete(w+"keranjangs/"+a.id).then((function(a){return console.log(a)})).catch((function(a){return console.log(a)}))}))})).catch((function(a){console.log(Error)}))}},{key:"render",value:function(){return Object(S.jsx)("div",{children:Object(S.jsxs)("div",{className:"mt-4 text-center",children:[Object(S.jsx)(_.a,{src:"img/Sukses.png",width:"500"}),Object(S.jsx)("h2",{children:"Sukses Pesan"}),Object(S.jsx)("p",{children:"Terimakasih Sudah memesan"}),Object(S.jsx)(C.a,{variant:"primary",as:h.b,to:"/",children:"Kembali"})]})})}}]),t}(n.Component),z=function(a){Object(l.a)(t,a);var e=Object(j.a)(t);function t(){return Object(i.a)(this,t),e.apply(this,arguments)}return Object(o.a)(t,[{key:"render",value:function(){return Object(S.jsxs)(h.a,{children:[Object(S.jsx)(L,{}),Object(S.jsx)("main",{children:Object(S.jsxs)(u.c,{children:[Object(S.jsx)(u.a,{path:"/",component:Y,exact:!0}),Object(S.jsx)(u.a,{Path:"/Sukses",component:U,exact:!0})]})})]})}}]),t}(n.Component),G=function(a){a&&a instanceof Function&&t.e(3).then(t.bind(null,127)).then((function(e){var t=e.getCLS,n=e.getFID,c=e.getFCP,r=e.getLCP,s=e.getTTFB;t(a),n(a),c(a),r(a),s(a)}))};s.a.render(Object(S.jsx)(c.a.StrictMode,{children:Object(S.jsx)(z,{})}),document.getElementById("root")),G()},86:function(a,e,t){}},[[112,1,2]]]);
//# sourceMappingURL=main.5100e364.chunk.js.map